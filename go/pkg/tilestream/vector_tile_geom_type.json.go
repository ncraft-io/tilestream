// Code generated by mojo. DO NOT EDIT.
// Rerunning mojo will overwrite this file.

package tilestream

import (
	"fmt"
	"unsafe"

	jsoniter "github.com/json-iterator/go"
	"github.com/mojo-lang/mojo/go/pkg/mojo/core"
)

func init() {
	core.RegisterJSONTypeDecoder("tilestream.VectorTile_GeomType", &VectorTileGeomTypeCodec{})
	core.RegisterJSONTypeEncoder("tilestream.VectorTile_GeomType", &VectorTileGeomTypeCodec{})
}

type VectorTileGeomTypeCodec struct {
}

func (codec *VectorTileGeomTypeCodec) Decode(ptr unsafe.Pointer, iter *jsoniter.Iterator) {
	any := iter.ReadAny()
	e := (*VectorTile_GeomType)(ptr)
	if any.ValueType() == jsoniter.StringValue {
		if err := e.Parse(any.ToString()); err != nil {
			iter.ReportError("VectorTileGeomTypeCodec.Decode", err.Error())
		}
	} else if any.ValueType() == jsoniter.NumberValue {
		value := any.ToInt32()
		if _, ok := VectorTileGeomTypeNames[value]; ok {
			*e = VectorTile_GeomType(value)
		} else {
			iter.ReportError("VectorTileGeomTypeCodec.Decode", fmt.Sprintf("invalid enum value %d for VectorTile_GeomType", value))
		}
	}
}

func (codec *VectorTileGeomTypeCodec) Encode(ptr unsafe.Pointer, stream *jsoniter.Stream) {
	e := (*VectorTile_GeomType)(ptr)
	stream.WriteString(e.Format())
}

func (codec *VectorTileGeomTypeCodec) IsEmpty(ptr unsafe.Pointer) bool {
	e := (*VectorTile_GeomType)(ptr)
	return e == nil || *e == 0
}
