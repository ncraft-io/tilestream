// Code generated by ncraft. DO NOT EDIT.
// Rerunning ncraft will overwrite this file.
// Version: 0.1.0
// Version Date:

package svc

// This file contains methods to make individual endpoints from services,
// request and response types to serve those endpoints, as well as encoders and
// decoders for those types, for all of our supported transport serialization
// formats.

import (
	"context"
	"fmt"

	"github.com/go-kit/kit/endpoint"

	"github.com/mojo-lang/mojo/go/pkg/mojo/core"
	"github.com/ncraft-io/tilestream/go/pkg/tilestream"

	// this service api
	pb "github.com/ncraft-io/tilestream/go/pkg/tilestream/v1"
)

var (
	_ = tilestream.Tile{}
	_ = core.Null{}
	_ = tilestream.TileInfo{}
	_ = tilestream.Layer{}
	_ = core.Ordering{}
	_ = core.FieldMask{}
)

// Endpoints collects all of the endpoints that compose an add service. It's
// meant to be used as a helper struct, to collect all of the endpoints into a
// single parameter.
//
// In a server, it's useful for functions that need to operate on a per-endpoint
// basis. For example, you might pass an Endpoints to a function that produces
// an http.Handler, with each method (endpoint) wired up to a specific path. (It
// is probably a mistake in design to invoke the Service methods on the
// Endpoints struct in a server.)
//
// In a client, it's useful to collect individually constructed endpoints into a
// single type that implements the Service interface. For example, you might
// construct individual endpoints using transport/http.NewClient, combine them into an Endpoints, and return it to the caller as a Service.
type Endpoints struct {
	CreateTileEndpoint       endpoint.Endpoint
	BatchCreateTilesEndpoint endpoint.Endpoint
	CreateTilesEndpoint      endpoint.Endpoint
	GetTileEndpoint          endpoint.Endpoint
	GetTileInfoEndpoint      endpoint.Endpoint
	UpdateTileEndpoint       endpoint.Endpoint
	UpdateTileInfoEndpoint   endpoint.Endpoint
	CreateLayerEndpoint      endpoint.Endpoint
	BatchCreateLayerEndpoint endpoint.Endpoint
	UpdateLayerEndpoint      endpoint.Endpoint
	BatchUpdateLayerEndpoint endpoint.Endpoint
	DeleteLayerEndpoint      endpoint.Endpoint
	GetLayerEndpoint         endpoint.Endpoint
	BatchGetLayersEndpoint   endpoint.Endpoint
	ListLayersEndpoint       endpoint.Endpoint
}

// Endpoints

func (e Endpoints) CreateTile(ctx context.Context, in *pb.CreateTileRequest) (*tilestream.Tile, error) {
	response, err := e.CreateTileEndpoint(ctx, in)
	if err != nil {
		return nil, err
	}
	return response.(*tilestream.Tile), nil
}

func (e Endpoints) BatchCreateTiles(ctx context.Context, in *pb.BatchCreateTilesRequest) (*core.Null, error) {
	response, err := e.BatchCreateTilesEndpoint(ctx, in)
	if err != nil {
		return nil, err
	}
	return response.(*core.Null), nil
}

func (e Endpoints) CreateTiles(ctx context.Context, in *pb.CreateTilesRequest) (*core.Null, error) {
	response, err := e.CreateTilesEndpoint(ctx, in)
	if err != nil {
		return nil, err
	}
	return response.(*core.Null), nil
}

func (e Endpoints) GetTile(ctx context.Context, in *pb.GetTileRequest) (*tilestream.Tile, error) {
	response, err := e.GetTileEndpoint(ctx, in)
	if err != nil {
		return nil, err
	}
	return response.(*tilestream.Tile), nil
}

func (e Endpoints) GetTileInfo(ctx context.Context, in *pb.GetTileInfoRequest) (*tilestream.TileInfo, error) {
	response, err := e.GetTileInfoEndpoint(ctx, in)
	if err != nil {
		return nil, err
	}
	return response.(*tilestream.TileInfo), nil
}

func (e Endpoints) UpdateTile(ctx context.Context, in *pb.UpdateTileRequest) (*core.Null, error) {
	response, err := e.UpdateTileEndpoint(ctx, in)
	if err != nil {
		return nil, err
	}
	return response.(*core.Null), nil
}

func (e Endpoints) UpdateTileInfo(ctx context.Context, in *pb.UpdateTileInfoRequest) (*core.Null, error) {
	response, err := e.UpdateTileInfoEndpoint(ctx, in)
	if err != nil {
		return nil, err
	}
	return response.(*core.Null), nil
}

func (e Endpoints) CreateLayer(ctx context.Context, in *pb.CreateLayerRequest) (*tilestream.Layer, error) {
	response, err := e.CreateLayerEndpoint(ctx, in)
	if err != nil {
		return nil, err
	}
	return response.(*tilestream.Layer), nil
}

func (e Endpoints) BatchCreateLayer(ctx context.Context, in *pb.BatchCreateLayerRequest) (*pb.BatchCreateLayerResponse, error) {
	response, err := e.BatchCreateLayerEndpoint(ctx, in)
	if err != nil {
		return nil, err
	}
	return response.(*pb.BatchCreateLayerResponse), nil
}

func (e Endpoints) UpdateLayer(ctx context.Context, in *pb.UpdateLayerRequest) (*core.Null, error) {
	response, err := e.UpdateLayerEndpoint(ctx, in)
	if err != nil {
		return nil, err
	}
	return response.(*core.Null), nil
}

func (e Endpoints) BatchUpdateLayer(ctx context.Context, in *pb.BatchUpdateLayerRequest) (*core.Null, error) {
	response, err := e.BatchUpdateLayerEndpoint(ctx, in)
	if err != nil {
		return nil, err
	}
	return response.(*core.Null), nil
}

func (e Endpoints) DeleteLayer(ctx context.Context, in *pb.DeleteLayerRequest) (*core.Null, error) {
	response, err := e.DeleteLayerEndpoint(ctx, in)
	if err != nil {
		return nil, err
	}
	return response.(*core.Null), nil
}

func (e Endpoints) GetLayer(ctx context.Context, in *pb.GetLayerRequest) (*tilestream.Layer, error) {
	response, err := e.GetLayerEndpoint(ctx, in)
	if err != nil {
		return nil, err
	}
	return response.(*tilestream.Layer), nil
}

func (e Endpoints) BatchGetLayers(ctx context.Context, in *pb.BatchGetLayersRequest) (*pb.BatchGetLayersResponse, error) {
	response, err := e.BatchGetLayersEndpoint(ctx, in)
	if err != nil {
		return nil, err
	}
	return response.(*pb.BatchGetLayersResponse), nil
}

func (e Endpoints) ListLayers(ctx context.Context, in *pb.ListLayersRequest) (*pb.ListLayersResponse, error) {
	response, err := e.ListLayersEndpoint(ctx, in)
	if err != nil {
		return nil, err
	}
	return response.(*pb.ListLayersResponse), nil
}

// Make Endpoints

func MakeCreateTileEndpoint(s pb.TilestreamServer) endpoint.Endpoint {
	return func(ctx context.Context, request interface{}) (response interface{}, err error) {
		req := request.(*pb.CreateTileRequest)
		v, err := s.CreateTile(ctx, req)
		if err != nil {
			return nil, err
		}
		return v, nil
	}
}

func MakeBatchCreateTilesEndpoint(s pb.TilestreamServer) endpoint.Endpoint {
	return func(ctx context.Context, request interface{}) (response interface{}, err error) {
		req := request.(*pb.BatchCreateTilesRequest)
		v, err := s.BatchCreateTiles(ctx, req)
		if err != nil {
			return nil, err
		}
		return v, nil
	}
}

func MakeCreateTilesEndpoint(s pb.TilestreamServer) endpoint.Endpoint {
	return func(ctx context.Context, request interface{}) (response interface{}, err error) {
		req := request.(*pb.CreateTilesRequest)
		v, err := s.CreateTiles(ctx, req)
		if err != nil {
			return nil, err
		}
		return v, nil
	}
}

func MakeGetTileEndpoint(s pb.TilestreamServer) endpoint.Endpoint {
	return func(ctx context.Context, request interface{}) (response interface{}, err error) {
		req := request.(*pb.GetTileRequest)
		v, err := s.GetTile(ctx, req)
		if err != nil {
			return nil, err
		}
		return v, nil
	}
}

func MakeGetTileInfoEndpoint(s pb.TilestreamServer) endpoint.Endpoint {
	return func(ctx context.Context, request interface{}) (response interface{}, err error) {
		req := request.(*pb.GetTileInfoRequest)
		v, err := s.GetTileInfo(ctx, req)
		if err != nil {
			return nil, err
		}
		return v, nil
	}
}

func MakeUpdateTileEndpoint(s pb.TilestreamServer) endpoint.Endpoint {
	return func(ctx context.Context, request interface{}) (response interface{}, err error) {
		req := request.(*pb.UpdateTileRequest)
		v, err := s.UpdateTile(ctx, req)
		if err != nil {
			return nil, err
		}
		return v, nil
	}
}

func MakeUpdateTileInfoEndpoint(s pb.TilestreamServer) endpoint.Endpoint {
	return func(ctx context.Context, request interface{}) (response interface{}, err error) {
		req := request.(*pb.UpdateTileInfoRequest)
		v, err := s.UpdateTileInfo(ctx, req)
		if err != nil {
			return nil, err
		}
		return v, nil
	}
}

func MakeCreateLayerEndpoint(s pb.TilestreamServer) endpoint.Endpoint {
	return func(ctx context.Context, request interface{}) (response interface{}, err error) {
		req := request.(*pb.CreateLayerRequest)
		v, err := s.CreateLayer(ctx, req)
		if err != nil {
			return nil, err
		}
		return v, nil
	}
}

func MakeBatchCreateLayerEndpoint(s pb.TilestreamServer) endpoint.Endpoint {
	return func(ctx context.Context, request interface{}) (response interface{}, err error) {
		req := request.(*pb.BatchCreateLayerRequest)
		v, err := s.BatchCreateLayer(ctx, req)
		if err != nil {
			return nil, err
		}
		return v, nil
	}
}

func MakeUpdateLayerEndpoint(s pb.TilestreamServer) endpoint.Endpoint {
	return func(ctx context.Context, request interface{}) (response interface{}, err error) {
		req := request.(*pb.UpdateLayerRequest)
		v, err := s.UpdateLayer(ctx, req)
		if err != nil {
			return nil, err
		}
		return v, nil
	}
}

func MakeBatchUpdateLayerEndpoint(s pb.TilestreamServer) endpoint.Endpoint {
	return func(ctx context.Context, request interface{}) (response interface{}, err error) {
		req := request.(*pb.BatchUpdateLayerRequest)
		v, err := s.BatchUpdateLayer(ctx, req)
		if err != nil {
			return nil, err
		}
		return v, nil
	}
}

func MakeDeleteLayerEndpoint(s pb.TilestreamServer) endpoint.Endpoint {
	return func(ctx context.Context, request interface{}) (response interface{}, err error) {
		req := request.(*pb.DeleteLayerRequest)
		v, err := s.DeleteLayer(ctx, req)
		if err != nil {
			return nil, err
		}
		return v, nil
	}
}

func MakeGetLayerEndpoint(s pb.TilestreamServer) endpoint.Endpoint {
	return func(ctx context.Context, request interface{}) (response interface{}, err error) {
		req := request.(*pb.GetLayerRequest)
		v, err := s.GetLayer(ctx, req)
		if err != nil {
			return nil, err
		}
		return v, nil
	}
}

func MakeBatchGetLayersEndpoint(s pb.TilestreamServer) endpoint.Endpoint {
	return func(ctx context.Context, request interface{}) (response interface{}, err error) {
		req := request.(*pb.BatchGetLayersRequest)
		v, err := s.BatchGetLayers(ctx, req)
		if err != nil {
			return nil, err
		}
		return v, nil
	}
}

func MakeListLayersEndpoint(s pb.TilestreamServer) endpoint.Endpoint {
	return func(ctx context.Context, request interface{}) (response interface{}, err error) {
		req := request.(*pb.ListLayersRequest)
		v, err := s.ListLayers(ctx, req)
		if err != nil {
			return nil, err
		}
		return v, nil
	}
}

// WrapAllExcept wraps each Endpoint field of struct Endpoints with a
// go-kit/kit/endpoint.Middleware.
// Use this for applying a set of middlewares to every endpoint in the service.
// Optionally, endpoints can be passed in by name to be excluded from being wrapped.
// WrapAllExcept(middleware, "Status", "Ping")
func (e *Endpoints) WrapAllExcept(middleware endpoint.Middleware, excluded ...string) {
	included := map[string]struct{}{
		"create_tile":        struct{}{},
		"batch_create_tiles": struct{}{},
		"create_tiles":       struct{}{},
		"get_tile":           struct{}{},
		"get_tile_info":      struct{}{},
		"update_tile":        struct{}{},
		"update_tile_info":   struct{}{},
		"create_layer":       struct{}{},
		"batch_create_layer": struct{}{},
		"update_layer":       struct{}{},
		"batch_update_layer": struct{}{},
		"delete_layer":       struct{}{},
		"get_layer":          struct{}{},
		"batch_get_layers":   struct{}{},
		"list_layers":        struct{}{},
	}

	for _, ex := range excluded {
		if _, ok := included[ex]; !ok {
			panic(fmt.Sprintf("Excluded endpoint '%s' does not exist; see middlewares/endpoints.go", ex))
		}
		delete(included, ex)
	}

	for inc, _ := range included {
		if inc == "create_tile" {
			e.CreateTileEndpoint = middleware(e.CreateTileEndpoint)
		}
		if inc == "batch_create_tiles" {
			e.BatchCreateTilesEndpoint = middleware(e.BatchCreateTilesEndpoint)
		}
		if inc == "create_tiles" {
			e.CreateTilesEndpoint = middleware(e.CreateTilesEndpoint)
		}
		if inc == "get_tile" {
			e.GetTileEndpoint = middleware(e.GetTileEndpoint)
		}
		if inc == "get_tile_info" {
			e.GetTileInfoEndpoint = middleware(e.GetTileInfoEndpoint)
		}
		if inc == "update_tile" {
			e.UpdateTileEndpoint = middleware(e.UpdateTileEndpoint)
		}
		if inc == "update_tile_info" {
			e.UpdateTileInfoEndpoint = middleware(e.UpdateTileInfoEndpoint)
		}
		if inc == "create_layer" {
			e.CreateLayerEndpoint = middleware(e.CreateLayerEndpoint)
		}
		if inc == "batch_create_layer" {
			e.BatchCreateLayerEndpoint = middleware(e.BatchCreateLayerEndpoint)
		}
		if inc == "update_layer" {
			e.UpdateLayerEndpoint = middleware(e.UpdateLayerEndpoint)
		}
		if inc == "batch_update_layer" {
			e.BatchUpdateLayerEndpoint = middleware(e.BatchUpdateLayerEndpoint)
		}
		if inc == "delete_layer" {
			e.DeleteLayerEndpoint = middleware(e.DeleteLayerEndpoint)
		}
		if inc == "get_layer" {
			e.GetLayerEndpoint = middleware(e.GetLayerEndpoint)
		}
		if inc == "batch_get_layers" {
			e.BatchGetLayersEndpoint = middleware(e.BatchGetLayersEndpoint)
		}
		if inc == "list_layers" {
			e.ListLayersEndpoint = middleware(e.ListLayersEndpoint)
		}
	}
}

// LabeledMiddleware will get passed the endpoint name when passed to
// WrapAllLabeledExcept, this can be used to write a generic metrics
// middleware which can send the endpoint name to the metrics collector.
type LabeledMiddleware func(string, endpoint.Endpoint) endpoint.Endpoint

// WrapAllLabeledExcept wraps each Endpoint field of struct Endpoints with a
// LabeledMiddleware, which will receive the name of the endpoint. See
// LabeldMiddleware. See method WrapAllExept for details on excluded
// functionality.
func (e *Endpoints) WrapAllLabeledExcept(middleware func(string, endpoint.Endpoint) endpoint.Endpoint, excluded ...string) {
	included := map[string]struct{}{
		"create_tile":        struct{}{},
		"batch_create_tiles": struct{}{},
		"create_tiles":       struct{}{},
		"get_tile":           struct{}{},
		"get_tile_info":      struct{}{},
		"update_tile":        struct{}{},
		"update_tile_info":   struct{}{},
		"create_layer":       struct{}{},
		"batch_create_layer": struct{}{},
		"update_layer":       struct{}{},
		"batch_update_layer": struct{}{},
		"delete_layer":       struct{}{},
		"get_layer":          struct{}{},
		"batch_get_layers":   struct{}{},
		"list_layers":        struct{}{},
	}

	for _, ex := range excluded {
		if _, ok := included[ex]; !ok {
			panic(fmt.Sprintf("Excluded endpoint '%s' does not exist; see middlewares/endpoints.go", ex))
		}
		delete(included, ex)
	}

	for inc, _ := range included {
		if inc == "create_tile" {
			e.CreateTileEndpoint = middleware("create_tile", e.CreateTileEndpoint)
		}
		if inc == "batch_create_tiles" {
			e.BatchCreateTilesEndpoint = middleware("batch_create_tiles", e.BatchCreateTilesEndpoint)
		}
		if inc == "create_tiles" {
			e.CreateTilesEndpoint = middleware("create_tiles", e.CreateTilesEndpoint)
		}
		if inc == "get_tile" {
			e.GetTileEndpoint = middleware("get_tile", e.GetTileEndpoint)
		}
		if inc == "get_tile_info" {
			e.GetTileInfoEndpoint = middleware("get_tile_info", e.GetTileInfoEndpoint)
		}
		if inc == "update_tile" {
			e.UpdateTileEndpoint = middleware("update_tile", e.UpdateTileEndpoint)
		}
		if inc == "update_tile_info" {
			e.UpdateTileInfoEndpoint = middleware("update_tile_info", e.UpdateTileInfoEndpoint)
		}
		if inc == "create_layer" {
			e.CreateLayerEndpoint = middleware("create_layer", e.CreateLayerEndpoint)
		}
		if inc == "batch_create_layer" {
			e.BatchCreateLayerEndpoint = middleware("batch_create_layer", e.BatchCreateLayerEndpoint)
		}
		if inc == "update_layer" {
			e.UpdateLayerEndpoint = middleware("update_layer", e.UpdateLayerEndpoint)
		}
		if inc == "batch_update_layer" {
			e.BatchUpdateLayerEndpoint = middleware("batch_update_layer", e.BatchUpdateLayerEndpoint)
		}
		if inc == "delete_layer" {
			e.DeleteLayerEndpoint = middleware("delete_layer", e.DeleteLayerEndpoint)
		}
		if inc == "get_layer" {
			e.GetLayerEndpoint = middleware("get_layer", e.GetLayerEndpoint)
		}
		if inc == "batch_get_layers" {
			e.BatchGetLayersEndpoint = middleware("batch_get_layers", e.BatchGetLayersEndpoint)
		}
		if inc == "list_layers" {
			e.ListLayersEndpoint = middleware("list_layers", e.ListLayersEndpoint)
		}
	}
}
